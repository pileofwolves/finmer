{
	"!Type": "AssetScene",
	"ID": "144b2054-982c-4f0a-9755-722e19c1fc20",
	"Name": "TQ01_Patch_Inn",
	"ScriptCustom": {
		"ID": "44d8d672-358a-4518-9506-ee85547bddc9",
		"Name": "144b2054-982c-4f0a-9755-722e19c1fc20_CustomScript"
	},
	"ScriptEnter": {
		"ID": "721cc75e-9a7b-4dd4-95c0-30bb4df9f3fa",
		"Name": "144b2054-982c-4f0a-9755-722e19c1fc20_EnterScript"
	},
	"ScriptLeave": {
		"ID": "5d90e44d-0877-4878-abc7-44f07fd50c90",
		"Name": "144b2054-982c-4f0a-9755-722e19c1fc20_LeaveScript"
	},
	"IsPatch": true,
	"InjectMode": "InsideAtEnd",
	"InjectTargetScene": "0b23fd11-9316-4796-9eff-d4bba1205ba9",
	"InjectTargetNode": "InnTalkRoot",
	"Root": {
		"Key": "Root",
		"IsState": true,
		"IsLink": false,
		"Children": [
			{
				"Key": "TQ01_Tobias",
				"IsState": false,
				"IsLink": false,
				"Title": "Dingo",
				"Tooltip": "The dingo on the bench.",
				"Highlight": false,
				"ButtonWidth": 1.0,
				"ScriptAppear": "return Storage.GetNumber(\"TQ01\") == 1",
				"Children": [
					{
						"Key": "TQ01_Tobias_Meet",
						"IsState": true,
						"IsLink": false,
						"ScriptAction": "Log(\"TQ01_MEET\")",
						"Children": [
							{
								"Key": "TQ01_Continue",
								"IsState": false,
								"IsLink": false,
								"Title": "Continue",
								"Tooltip": "Shake paws and introduce yourself.",
								"Highlight": false,
								"ButtonWidth": 1.0,
								"Children": [
									{
										"Key": "TQ01_Tobias_Explain",
										"IsState": true,
										"IsLink": false,
										"ScriptAction": "Log(\"TQ01_EXPLAIN\")",
										"Children": [
											{
												"Key": "TQ01_Choice_Friend",
												"IsState": false,
												"IsLink": false,
												"Title": "Friend",
												"Tooltip": "Ask about this \"friend\".",
												"Highlight": false,
												"ButtonWidth": 1.0,
												"ScriptAppear": "return not Storage.GetFlag(\"TQ01_DISCUSSED_FRIEND\")",
												"Children": [
													{
														"Key": "TQ01_Expo_Friend",
														"IsState": true,
														"IsLink": false,
														"ScriptAction": "Log(\"TQ01_INFO_FRIEND\")\r\nStorage.SetFlag(\"TQ01_DISCUSSED_FRIEND\", true)",
														"Children": [
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_Reward"
															},
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_Location"
															},
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_End"
															}
														]
													}
												]
											},
											{
												"Key": "TQ01_Choice_Location",
												"IsState": false,
												"IsLink": false,
												"Title": "Location",
												"Tooltip": "Where you might be able to find the thief.",
												"Highlight": false,
												"ButtonWidth": 1.0,
												"ScriptAppear": "return not Storage.GetFlag(\"TQ01_DISCUSSED_LOCATION\")\r\n",
												"Children": [
													{
														"Key": "TQ01_Expo_Location",
														"IsState": true,
														"IsLink": false,
														"ScriptAction": "Log(\"TQ01_INFO_LOCATION\")\r\nStorage.SetFlag(\"TQ01_DISCUSSED_LOCATION\", true)",
														"Children": [
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_Reward"
															},
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_Friend"
															},
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_End"
															}
														]
													}
												]
											},
											{
												"Key": "TQ01_Choice_Reward",
												"IsState": false,
												"IsLink": false,
												"Title": "Reward",
												"Tooltip": "What you can expect for helping out.",
												"Highlight": false,
												"ButtonWidth": 1.0,
												"ScriptAction": "return not Storage.GetFlag(\"TQ01_DISCUSSED_REWARD\")",
												"ScriptAppear": "return not Storage.GetFlag(\"TQ01_DISCUSSED_REWARD\")\r\n",
												"Children": [
													{
														"Key": "TQ01_Expo_Reward",
														"IsState": true,
														"IsLink": false,
														"ScriptAction": "Log(\"TQ01_INFO_REWARD\")\r\nStorage.SetFlag(\"TQ01_DISCUSSED_REWARD\", true)",
														"Children": [
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_Location"
															},
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_Friend"
															},
															{
																"Key": "AutoLink",
																"IsState": false,
																"IsLink": true,
																"LinkTarget": "TQ01_Choice_End"
															}
														]
													}
												]
											},
											{
												"Key": "TQ01_Choice_End",
												"IsState": false,
												"IsLink": false,
												"Title": "Accept",
												"Tooltip": "That should be everything for now.",
												"Highlight": false,
												"ButtonWidth": 1.0,
												"ScriptAppear": "return\r\n    Storage.GetFlag(\"TQ01_DISCUSSED_FRIEND\") and\r\n    Storage.GetFlag(\"TQ01_DISCUSSED_LOCATION\") and\r\n    Storage.GetFlag(\"TQ01_DISCUSSED_REWARD\")",
												"Children": [
													{
														"Key": "TQ01_Wrapup",
														"IsState": true,
														"IsLink": false,
														"ScriptAction": "Log(\"TQ01_WRAPUP\")\r\nJournal.Update(\"TQ01\", 1)\r\nStorage.SetNumber(\"TQ01\", 2)",
														"Children": [
															{
																"Key": "TQ01_Tobias1_Goodbye",
																"IsState": false,
																"IsLink": false,
																"Title": "Continue",
																"Tooltip": "Tell him you'll get the job done.",
																"Highlight": false,
																"ButtonWidth": 1.0,
																"Children": [
																	{
																		"IsState": true,
																		"IsLink": true,
																		"LinkTarget": "Main"
																	}
																]
															}
														]
													}
												]
											}
										]
									}
								]
							}
						]
					}
				]
			},
			{
				"Key": "TQ01_Tobias_Done",
				"IsState": false,
				"IsLink": false,
				"Title": "Tobias",
				"Tooltip": "Report your success to Tobias.",
				"Highlight": false,
				"ButtonWidth": 1.0,
				"ScriptAppear": "return Storage.GetNumber(\"TQ01\") == 3",
				"Children": [
					{
						"Key": "TQ01_Toby_Finish",
						"IsState": true,
						"IsLink": false,
						"ScriptAction": "-- Print message\r\nLog(\"TQ01_COMPLETION\")\r\n\r\n-- Prevent player from completing the quest again\r\nStorage.SetNumber(\"TQ01\", 4)\r\n\r\n-- Remove the journal entry and the quest item\r\nJournal.Close(\"TQ01\")\r\nPlayer:TakeItem(\"TQ01_I_Pendant\")\r\n\r\n-- Grant rewards\r\nPlayer:ModifyMoney(55)\r\nPlayer:AwardXP(50)",
						"Children": [
							{
								"Key": "TQ01_Finale",
								"IsState": false,
								"IsLink": false,
								"Title": "Continue",
								"Tooltip": "And that's that!",
								"Highlight": false,
								"ButtonWidth": 1.0,
								"Children": [
									{
										"IsState": true,
										"IsLink": true,
										"LinkTarget": "Main"
									}
								]
							}
						]
					}
				]
			}
		]
	}
}